(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{mKDW:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,l,r,c,i=a("kLXV"),o=(a("bP8k"),a("gFTJ")),s=(a("IzEo"),a("bx4M")),m=(a("g9YV"),a("wCAj")),d=(a("14J3"),a("BMrR")),u=(a("+L6B"),a("2/Rp")),p=(a("Pwec"),a("CtXQ")),f=(a("jCWc"),a("kPKH")),E=a("2Taf"),g=a.n(E),h=a("vZ4D"),b=a.n(h),I=a("l4Ni"),y=a.n(I),v=a("ujKo"),k=a.n(v),w=a("MhPg"),Y=a.n(w),C=(a("tU7J"),a("wFql")),M=(a("OaEy"),a("2fM7")),S=(a("y8nQ"),a("Vl3Y")),D=a("q1tI"),x=a.n(D),z=a("MuoO"),R=(a("Y2fQ"),a("zHco")),J=a("wd/R"),V=a.n(J),K=a("glGN"),L=a.n(K),O=(S["a"].Item,M["a"].Option,C["a"].Title),P=(n=Object(z["connect"])(function(e){var t=e.main,a=e.loading;return{main:t,loading:a.models.main}}),l=S["a"].create(),n(r=l((c=function(e){function t(){var e,a;g()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=y()(this,(e=k()(t)).call.apply(e,[this].concat(l))),a.state={instruments:[],peopleVisible:!1,instrument:{},record:[]},a.columns=[{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"divicename"},{title:"\u8bbe\u5907\u7f16\u53f7",dataIndex:"diviceid"},{title:"\u68c0\u9a8c\u9879\u76ee",dataIndex:"inspways",render:function(e,t){var a=[];if(void 0===e||null===e||""===e)return null;if(a=e.split(" "),a.length<2)return e;for(var n=null,l=x.a.createElement("br",null),r=0;r<a.length;r++)n=0===r?a[r]:r%3===0?x.a.createElement("span",null,n,l,a[r]):x.a.createElement("span",null,n,"\xa0",a[r]);return x.a.createElement("div",null,n)}},{title:"\u4f7f\u7528\u65e5\u671f",dataIndex:"usedate",render:function(e){return x.a.createElement("span",null,V()(e).format("YYYY-MM-DD"))}},{title:"\u68c0\u5b9a\u65e5\u671f",dataIndex:"checkdate",render:function(e){return x.a.createElement("span",null,V()(e).format("YYYY-MM-DD"))}},{title:"\u5468\u671f",dataIndex:"checkcycle"},{title:"\u64cd\u4f5c",render:function(e,t){return x.a.createElement(D["Fragment"],null,x.a.createElement("a",{onClick:function(){return a.previewItem(e,t)}},"\u67e5\u770b"))}}],a.columns1=[{title:"\u8bc1\u4e66\u540d\u79f0",dataIndex:"recordname"},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"createtime",render:function(e){return x.a.createElement("span",null,V()(e).format("YYYY-MM-DD"))}},{title:"\u64cd\u4f5c",render:function(e,t){return x.a.createElement(D["Fragment"],null,x.a.createElement("a",{onClick:function(){return a.previewRecordItem(e,t)}},"\u67e5\u770b"))}}],a.previewRecordItem=function(e){var t=a.props.dispatch;t({type:"main/getOssPdf",payload:{osspath:e.osspath},callback:function(e){if(400===e.code)notification.open({message:"\u6253\u5f00\u5931\u8d25",description:e.data});else{var t=e.data;window.open(t)}}}),a.setState({visible:!0})},a.previewItem=function(e){var t=a.props.dispatch,n=sessionStorage.getItem("certcode");t({type:"main/getInstrumentByKeyno",payload:{keyno:e.keyno},callback:function(e){200===e.code?a.setState({instrument:e.data}):notification.open({message:"\u67e5\u770b\u5931\u8d25",description:e.data})}}),t({type:"main/getInstrumentRecord",payload:{certCode:n,diviceName:e.divicename},callback:function(e){200===e.code?(a.setState({record:e.data}),a.setState({peopleVisible:!0})):notification.open({message:"\u67e5\u770b\u5931\u8d25",description:e.data})}})},a.back=function(){window.close()},a.handleCancel=function(){a.setState({peopleVisible:!1})},a}return Y()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("reportno"),a=sessionStorage.getItem("certcode"),n=this.props.dispatch;n({type:"main/getInstrumentByReportno",payload:{reportno:t,certcode:a},callback:function(t){200===t.code&&e.setState({instruments:t.data})}})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=(e.dispatch,this.state),n=a.instruments,l=a.instrument,r=a.peopleVisible,c=a.record,E=function(e){return void 0!==e&&null!==e?x.a.createElement("span",null,V()(e).format("YYYY-MM-DD")):null};return x.a.createElement(R["a"],null,x.a.createElement(s["a"],{bordered:!1,size:"middle"},x.a.createElement(d["a"],{gutter:16},x.a.createElement(f["a"],{span:3},x.a.createElement(O,{level:3}," \u4eea\u5668\u8bbe\u5907")),x.a.createElement(f["a"],{span:19}),x.a.createElement(f["a"],{span:2},x.a.createElement(u["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},x.a.createElement(p["a"],{style:{paddingLeft:5},type:"close"}),"\u5173\u95ed"))),x.a.createElement("div",{className:L.a.tableList},x.a.createElement(m["a"],{size:"middle",loading:t,dataSource:n,columns:this.columns,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),x.a.createElement(i["a"],{title:"\u4eba\u5458",visible:r,onOk:this.handleCancel,onCancel:this.handleCancel,width:1e3},x.a.createElement(o["a"],{size:"large",title:"\u4e1a\u52a1\u4fe1\u606f",style:{marginBottom:32},bordered:!0},x.a.createElement(o["a"].Item,{label:"\u8bbe\u5907\u7f16\u53f7"},l.diviceid),x.a.createElement(o["a"].Item,{label:"\u8bbe\u5907\u540d\u79f0"},l.divicename),x.a.createElement(o["a"].Item,{label:"\u89c4\u683c/\u578b\u53f7"},l.specifications),x.a.createElement(o["a"].Item,{label:"\u56fd\u522b/\u751f\u4ea7\u5382"},l.manufacturer),x.a.createElement(o["a"].Item,{label:"\u8d2d\u7f6e\u65e5\u671f"},E(l.buydate)),x.a.createElement(o["a"].Item,{label:"\u9a8c\u6536\u65e5\u671f"},E(l.acceptdate)),x.a.createElement(o["a"].Item,{label:"\u9a8c\u6536\u4eba\u5458"},l.acceptman),x.a.createElement(o["a"].Item,{label:"\u4f7f\u7528\u65e5\u671f"},E(l.usedate)),x.a.createElement(o["a"].Item,{label:"\u4f7f\u7528\u90e8\u95e8"},l.usesection),x.a.createElement(o["a"].Item,{label:"\u4fdd\u7ba1\u4eba"},l.custodian),x.a.createElement(o["a"].Item,{label:"\u4ef7\u503c"},l.value),x.a.createElement(o["a"].Item,{label:"\u68c0\u5b9a\u65e5\u671f"},E(l.checkdate)),x.a.createElement(o["a"].Item,{label:"\u68c0\u5b9a\u5468\u671f\uff08\u6708\uff09"},l.checkcycle),x.a.createElement(o["a"].Item,{label:"\u68c0\u5b9a\u5355\u4f4d"},l.checkCompany),x.a.createElement(o["a"].Item,{label:"\u62a5\u5e9f\u65e5\u671f"},E(l.scrapdate)),x.a.createElement(o["a"].Item,{label:"\u72b6\u6001"},l.status)),x.a.createElement(m["a"],{size:"middle",loading:t,dataSource:c,columns:this.columns1,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}})))}}]),t}(D["PureComponent"]),r=c))||r)||r);t["default"]=P}}]);