(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{WfQq:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,i,r,l,s=a("kLXV"),c=(a("IzEo"),a("bx4M")),o=(a("g9YV"),a("wCAj")),d=(a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),u=(a("Pwec"),a("CtXQ")),m=(a("jCWc"),a("kPKH")),h=a("2Taf"),f=a.n(h),g=a("vZ4D"),v=a.n(g),y=a("l4Ni"),E=a.n(y),b=a("ujKo"),w=a.n(b),k=a("MhPg"),C=a.n(k),I=(a("tU7J"),a("wFql")),x=(a("OaEy"),a("2fM7")),M=(a("y8nQ"),a("Vl3Y")),S=a("q1tI"),Y=a.n(S),z=a("MuoO"),F=(a("Y2fQ"),a("zHco")),O=a("wd/R"),J=a.n(O),L=a("glGN"),P=a.n(L),Q=(M["a"].Item,x["a"].Option,I["a"].Title),j=(n=Object(z["connect"])(function(e){var t=e.main,a=e.loading;return{main:t,loading:a.models.main}}),i=M["a"].create(),n(r=i((l=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=E()(this,(e=w()(t)).call.apply(e,[this].concat(i))),a.state={visible:!1,url:"",certFiles:[]},a.columns=[{title:"\u8bc1\u4e66\u540d\u79f0",dataIndex:"name",render:function(e){var t=/\.{1}[a-z]{1,}$/;return null!==t.exec(e)?Y.a.createElement("span",null,e.slice(0,t.exec(e).index)):Y.a.createElement("span",null,e)}},{title:"\u7b7e\u7f72/\u4e0a\u4f20\u65e5\u671f",dataIndex:"recorddate",render:function(e){return Y.a.createElement("span",null,J()(e).format("YYYY-MM-DD"))}},{title:"\u7b7e\u7f72\u4eba",dataIndex:"author"},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(e,t){return Y.a.createElement(S["Fragment"],null,Y.a.createElement("a",{onClick:function(){return a.previewItem(e,t)}},"\u67e5\u770b"))}}],a.previewItem=function(e){var t=a.props.dispatch,n=(sessionStorage.getItem("reportno"),"");"\u5df2\u62df\u5236"===e.status?n=e.pdfeditorpath:"\u5df2\u590d\u6838"===e.status?n=e.pdfpath:"\u5df2\u7f2e\u5236"===e.status?n=e.titlepdfpath:"\u5df2\u7b7e\u7f72"===e.status||"\u5df2\u53d1\u5e03"===e.status?n=e.certpdfpath:"\u5df2\u4f5c\u5e9f"===e.status&&(n=e.abandonpdfpath),t({type:"main/getOssPdf",payload:{osspath:n},callback:function(e){if(400===e.code)notification.open({message:"\u6253\u5f00\u5931\u8d25",description:e.data});else{var t=e.data;a.setState({url:t})}}}),a.setState({visible:!0})},a.back=function(){a.props.history.goBack()},a.handleCancel=function(){a.setState({visible:!1})},a}return C()(t,e),v()(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("reportno"),a=this.props.dispatch;a({type:"main/getCertFiles",payload:{reportno:t},callback:function(t){200===t.code&&e.setState({certFiles:t.data})}})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=(e.dispatch,this.state),n=a.visible,i=a.url,r=a.certFiles;return Y.a.createElement(F["a"],null,Y.a.createElement(c["a"],{bordered:!1,size:"middle"},Y.a.createElement(d["a"],{gutter:16},Y.a.createElement(m["a"],{span:3},Y.a.createElement(Q,{level:3},"\u8bc1\u7a3f\u8bc1\u4e66")),Y.a.createElement(m["a"],{span:19}),Y.a.createElement(m["a"],{span:2},Y.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},Y.a.createElement(u["a"],{type:"left"}),"\u8fd4\u56de"))),Y.a.createElement("div",{className:P.a.tableList},Y.a.createElement(o["a"],{size:"middle",loading:t,dataSource:r,columns:this.columns,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),Y.a.createElement(s["a"],{title:"\u6587\u4ef6",visible:n,onOk:this.handleCancel,onCancel:this.handleCancel,width:1e3},Y.a.createElement("embed",{src:i,style:{width:"100%",height:.8*document.body.clientHeight},type:"application/pdf"})))}}]),t}(S["PureComponent"]),r=l))||r)||r);t["default"]=j}}]);