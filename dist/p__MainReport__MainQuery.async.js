(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"4Ift":function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,r,o,i=t("bx4M"),c=(t("g9YV"),t("wCAj")),m=t("jehZ"),s=t.n(m),u=(t("14J3"),t("BMrR")),d=(t("Pwec"),t("CtXQ")),p=(t("5NDa"),t("5rEg")),E=(t("jCWc"),t("kPKH")),f=(t("BoS7"),t("Sdc0")),v=t("2Taf"),h=t.n(v),g=t("vZ4D"),I=t.n(g),w=t("l4Ni"),k=t.n(w),b=t("ujKo"),y=t.n(b),C=t("MhPg"),R=t.n(C),S=(t("OaEy"),t("2fM7")),V=(t("y8nQ"),t("Vl3Y")),F=(t("2qtc"),t("kLXV")),M=(t("bP8k"),t("gFTJ")),D=(t("+L6B"),t("2/Rp")),N=t("q1tI"),L=t.n(N),T=t("MuoO"),Y=t("wd/R"),x=t.n(Y),z=t("zHco"),A=t("WTxz"),P=t.n(A),B=t("glGN"),j=t.n(B),J=function(e){var a=e.modalReviewVisible,t=e.handleModalReviewVisible,n=e.modalInfo,l=function(e){return void 0!==e&&null!==e?L.a.createElement("span",null,x()(e).format("YYYY-MM-DD")):null},r=l(n.makingdate);return L.a.createElement(F["a"],{destroyOnClose:!0,title:"\u67e5\u770b\u59d4\u6258\u8be6\u60c5",visible:a,style:{top:100},width:800,onCancel:function(){return t()},footer:[L.a.createElement(D["a"],{type:"primary",onClick:function(){return t()}},"\u5173\u95ed")]},L.a.createElement(M["a"],{bordered:!0},L.a.createElement(M["a"].Item,{label:"\u59d4\u6258\u7f16\u53f7"},n.reportno),L.a.createElement(M["a"].Item,{label:"\u8239\u540d\u6807\u8bc6"},n.shipname),L.a.createElement(M["a"].Item,{label:"\u68c0\u67e5\u54c1\u540d"},n.cargoname),L.a.createElement(M["a"].Item,{label:"\u59d4\u6258\u7f16\u53f7"},n.cargoname),L.a.createElement(M["a"].Item,{label:"\u59d4\u6258\u540d\u79f0"},n.samplename),L.a.createElement(M["a"].Item,{label:"\u59d4\u6258\u7528\u9014"},n.sampleuse),L.a.createElement(M["a"].Item,{label:"\u6301\u6709\u4eba"},n.duration),L.a.createElement(M["a"].Item,{label:"\u4fdd\u5b58\u5929\u6570"},n.reportno),L.a.createElement(M["a"].Item,{label:"\u5b58\u653e\u4f4d\u7f6e"},n.position),L.a.createElement(M["a"].Item,{label:"\u5236\u5907\u65e5\u671f"},r),L.a.createElement(M["a"].Item,{label:"\u72b6\u6001"},n.status)))},O=0,K=V["a"].Item,Q=S["a"].Option,q=(n=Object(T["connect"])(function(e){var a=e.main,t=e.loading;return{main:a,loading:t.models.main}}),l=V["a"].create(),n(r=l((o=function(e){function a(){var e,t;h()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=k()(this,(e=y()(a)).call.apply(e,[this].concat(l))),t.state={modalReviewVisible:!1,modalInfo:{},mainResult:[]},t.columns=[{title:"\u59d4\u6258\u7f16\u53f7",dataIndex:"reportno"},{title:"\u59d4\u6258\u65e5\u671f",dataIndex:"reportdate",render:function(e){return L.a.createElement("span",null,x()(e).format("YYYY-MM-DD"))}},{title:"\u68c0\u9a8c\u673a\u6784",dataIndex:"namec"},{title:"\u68c0\u67e5\u54c1\u540d",dataIndex:"cargoname"},{title:"\u68c0\u9a8c\u9879\u76ee",dataIndex:"inspway",render:function(e,a){var t=[];if(void 0===e||null===e||""===e)return null;if(t=e.split(" "),t.length<2)return e;for(var n=null,l=L.a.createElement("br",null),r=0;r<t.length;r++)n=0===r?t[r]:r%3===0?L.a.createElement("span",null,n,l,t[r]):L.a.createElement("span",null,n,"\xa0",t[r]);return L.a.createElement("div",null,n)}},{title:"\u64cd\u4f5c",render:function(e,a){return L.a.createElement(N["Fragment"],null,L.a.createElement("a",{onClick:function(){return t.abilityItem(e,a)}},"\u80fd\u529b\u5206\u6790"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.peopleItem(e,a)}},"\u4eba\u5458\u8be6\u60c5"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.instrumentItem(e,a)}},"\u4eea\u5668\u8bbe\u5907"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.recordItem(e,a)}},"\u68c0\u67e5\u8bb0\u5f55"),"\xa0\xa0",L.a.createElement("br",null),L.a.createElement("a",{onClick:function(){return t.sampleItem(e,a)}},"\u6837\u54c1\u6e05\u5355"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.testRecordItem(e,a)}},"\u6d4b\u8bd5\u62a5\u544a"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.certItem(e,a)}},"\u8bc1\u7a3f\u8bc1\u4e66"),"\xa0\xa0",L.a.createElement("a",{onClick:function(){return t.previewItem(e,a)}},"\u59d4\u6258\u8be6\u60c5"))}}],t.init=function(){var e=t.props.dispatch,a={};e({type:"main/getReportByCNAS",payload:a,callback:function(e){t.state.mainResult=e}})},t.abilityItem=function(e){sessionStorage.setItem("certcode",e.certcode),window.open("/MainReport/AbilityAnalysis")},t.previewItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/MainReport/DetailForEnturstment")},t.testRecordItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/MainReport/TestRecord")},t.certItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/MainReport/CertFile")},t.sampleItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/MainReport/Sample")},t.recordItem=function(e){sessionStorage.setItem("reportno",e.reportno),window.open("/MainReport/Record")},t.instrumentItem=function(e){sessionStorage.setItem("reportno",e.reportno),sessionStorage.setItem("certcode",e.certcode),window.open("/MainReport/Instrument")},t.handleFormReset=function(){var e=t.props.form;e.resetFields(),t.init(),t.flag=0},t.peopleItem=function(e){sessionStorage.setItem("reportno",e.reportno),sessionStorage.setItem("certcode",e.certcode),window.open("/MainReport/PeopleDetail")},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,l=a.form;l.validateFields(function(e,a){if(e)console.log(e);else{var r=[],o=[],i=[];!0===a.check&&void 0!==a.kind&&void 0!==a.value&&void 0!==a.condition&&(r.push(a.kind),o.push(a.value),i.push(a.condition));var c=l.getFieldValue("keys");for(var m in c){var s=c[m];console.log(s);var u=l.getFieldValue("kinds".concat(s)),d=l.getFieldValue("conditions".concat(s)),p=l.getFieldValue("values".concat(s)),E=l.getFieldValue("check".concat(s));!0===E&&void 0!==u&&void 0!==p&&void 0!==d&&(r.push(u),o.push(p),i.push(d))}var f={kinds:r,values:o,conditions:i};n({type:"main/getReportByCNAS",payload:f,callback:function(e){t.state.mainResult=e}})}})},t.handleReview=function(e,a){t.handleModalReviewVisible(e),t.state.modalInfo=a},t.handleModalReviewVisible=function(e){t.setState({modalReviewVisible:!!e})},t.remove=function(e){var a=t.props.form,n=a.getFieldValue("keys");t.props.form.validateFields(function(e,a){e||console.log("Received values of form: ",a)}),a.setFieldsValue({keys:n.filter(function(a){return a!==e})})},t.add=function(){var e=t.props.form,a=e.getFieldValue("keys"),n=a.concat(O++);e.setFieldsValue({keys:n})},t.flag=0,t.handleAdvanceSearch=function(){if(0===t.flag){var e=4;while(e>0)t.add(),e--;t.flag=1}},t}return R()(a,e),I()(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return L.a.createElement(V["a"],{onSubmit:this.handleSearch,layout:"inline"},L.a.createElement(u["a"],{gutter:{md:6,lg:18,xl:5}},L.a.createElement(E["a"],{md:1,sm:20},L.a.createElement(V["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("check",{initialValue:!0,valuePropName:"checked"})(L.a.createElement(f["a"],{checkedChildren:"\u5f00",unCheckedChildren:"\u5173"})))),L.a.createElement(E["a"],{md:3,sm:20},L.a.createElement(V["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{initialValue:"reportno",rules:[{message:"\u9009\u62e9\u5b57\u6bb5"}]})(L.a.createElement(S["a"],{placeholder:"\u9009\u62e9\u5b57\u6bb5"},L.a.createElement(Q,{value:"reportno"}," \u59d4\u6258\u7f16\u53f7"),L.a.createElement(Q,{value:"shipname"},"\u8239\u540d\u6807\u8bc6"),L.a.createElement(Q,{value:"cargoname"},"\u68c0\u67e5\u54c1\u540d"),L.a.createElement(Q,{value:"inspway"},"\u68c0\u9a8c\u9879\u76ee"),L.a.createElement(Q,{value:"company.namec"},"\u68c0\u9a8c\u673a\u6784"))))),L.a.createElement(E["a"],{md:3,sm:20},L.a.createElement(V["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("condition",{initialValue:"=",rules:[{message:"\u6761\u4ef6"}]})(L.a.createElement(S["a"],{placeholder:"\u6761\u4ef6"},L.a.createElement(Q,{value:"="},"\u7b49\u4e8e"),L.a.createElement(Q,{value:"!="},"\u4e0d\u7b49\u4e8e"),L.a.createElement(Q,{value:"like"},"\u5305\u542b"),L.a.createElement(Q,{value:"not like"},"\u4e0d\u5305\u542b"))))),L.a.createElement(E["a"],{md:4,sm:20},L.a.createElement(K,null,e("value",{rules:[{message:"\u8bf7\u8f93\u5165"}]})(L.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(E["a"],{md:1,sm:20},"  ",L.a.createElement(d["a"],{type:"plus-circle",style:{fontSize:24,marginLeft:8,marginTop:4},theme:"twoTone",twoToneColor:"#00ff00",onClick:this.add})),L.a.createElement(E["a"],{md:8,sm:20},L.a.createElement("span",{className:j.a.submitButtons},L.a.createElement(D["a"],{style:{marginLeft:0},onClick:this.handleFormReset},"\u91cd\u7f6e"),L.a.createElement(D["a"],{style:{marginLeft:8},onClick:this.handleAdvanceSearch},"\u9ad8\u7ea7\u68c0\u7d22"),L.a.createElement(D["a"],{type:"primary",style:{marginLeft:8},htmlType:"submit"},"\u67e5\u8be2")))))}},{key:"render",value:function(){var e=this,a=this.props.loading,t=this.props.form,n=t.getFieldDecorator,l=t.getFieldValue;n("keys",{initialValue:[]});var r=l("keys"),o=this.state,m=o.modalReviewVisible,v=o.modalInfo,h=o.mainResult,g={handleModalReviewVisible:this.handleModalReviewVisible},I=r.map(function(a,t){return L.a.createElement("div",null,t%2===0&&0!==r.length?L.a.createElement(u["a"],{className:P.a.rowClass}):null,L.a.createElement(E["a"],{md:1,sm:20},L.a.createElement(V["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},n("check".concat(a),{initialValue:!0,valuePropName:"checked"})(L.a.createElement(f["a"],{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0})))),L.a.createElement(E["a"],{md:3,sm:20},L.a.createElement(V["a"].Item,{style:{marginRight:8},labelCol:{span:5},wrapperCol:{span:6}},n("kinds".concat(a),{rules:[{message:"\u9009\u62e9\u5b57\u6bb5"}]})(L.a.createElement(S["a"],{placeholder:"\u9009\u62e9\u5b57\u6bb5"},L.a.createElement(Q,{value:"reportno"}," \u59d4\u6258\u7f16\u53f7"),L.a.createElement(Q,{value:"shipname"},"\u8239\u540d\u6807\u8bc6"),L.a.createElement(Q,{value:"cargoname"},"\u68c0\u67e5\u54c1\u540d"))))),L.a.createElement(E["a"],{md:3,sm:20},L.a.createElement(V["a"].Item,{style:{marginRight:8},labelCol:{span:5},wrapperCol:{span:6}},n("conditions".concat(a),{rules:[{message:"\u9009\u62e9\u6761\u4ef6"}]})(L.a.createElement(S["a"],{placeholder:"\u9009\u62e9\u6761\u4ef6"},L.a.createElement(Q,{value:"="},"\u7b49\u4e8e"),L.a.createElement(Q,{value:"!="},"\u4e0d\u7b49\u4e8e"),L.a.createElement(Q,{value:"like"},"\u5305\u542b"),L.a.createElement(Q,{value:"not like"},"\u4e0d\u5305\u542b"))))),L.a.createElement(E["a"],{md:4,sm:10},L.a.createElement(K,null,n("values".concat(a),{rules:[{message:"\u9009\u62e9\u6570\u503c"}]})(L.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(E["a"],{md:1,sm:5},r.length>=1?L.a.createElement(d["a"],{style:{fontSize:24,marginLeft:8},type:"minus-circle",theme:"twoTone",twoToneColor:"#ff0000",onClick:function(){return e.remove(a)}}):null))});return L.a.createElement(z["a"],{title:"\u59d4\u6258\u67e5\u8be2"},L.a.createElement(J,s()({},g,{modalReviewVisible:m,modalInfo:v})),L.a.createElement(i["a"],{bordered:!1,size:"small"},L.a.createElement(V["a"],{onSubmit:this.handleSubmit},L.a.createElement("div",{className:j.a.tableListForm},this.renderSimpleForm()),L.a.createElement(u["a"],{className:j.a.tableListForm},I)),L.a.createElement("div",{className:j.a.tableList},L.a.createElement(c["a"],{size:"middle",rowKey:"reportno",loading:a,dataSource:h,pagination:{showQuickJumper:!0,showSizeChanger:!0},columns:this.columns}))))}}]),a}(N["PureComponent"]),r=o))||r)||r);a["default"]=q}}]);