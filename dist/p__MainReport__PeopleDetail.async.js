(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{JPwm:function(e,a,t){"use strict";t.r(a);t("2qtc");var n,l,r,i,o=t("kLXV"),c=(t("bP8k"),t("gFTJ")),m=(t("IzEo"),t("bx4M")),s=(t("g9YV"),t("wCAj")),d=(t("14J3"),t("BMrR")),p=(t("+L6B"),t("2/Rp")),u=(t("Pwec"),t("CtXQ")),b=(t("jCWc"),t("kPKH")),g=t("2Taf"),f=t.n(g),E=t("vZ4D"),h=t.n(E),I=t("l4Ni"),w=t.n(I),y=t("ujKo"),k=t.n(y),v=t("MhPg"),C=t.n(v),Y=(t("tU7J"),t("wFql")),M=(t("OaEy"),t("2fM7")),S=(t("y8nQ"),t("Vl3Y")),D=t("q1tI"),x=t.n(D),z=t("MuoO"),J=(t("Y2fQ"),t("zHco")),P=t("wd/R"),R=t.n(P),V=t("glGN"),j=t.n(V),L=(S["a"].Item,M["a"].Option,Y["a"].Title),O=(n=Object(z["connect"])(function(e){var a=e.main,t=e.loading;return{main:a,loading:t.models.main}}),l=S["a"].create(),n(r=l((i=function(e){function a(){var e,t;f()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=w()(this,(e=k()(a)).call.apply(e,[this].concat(l))),t.state={man:[],peopleVisible:!1,manDetail:{},record:[]},t.columns=[{title:"\u68c0\u9a8c\u4eba\u5458",dataIndex:"inspman"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"tel"},{title:"\u4efb\u52a1",dataIndex:"inspway"},{title:"\u64cd\u4f5c",render:function(e,a){return x.a.createElement(D["Fragment"],null,x.a.createElement("a",{onClick:function(){return t.previewItem(e,a)}},"\u67e5\u770b"))}}],t.columns1=[{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"recordname"},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"createtime",render:function(e){return x.a.createElement("span",null,R()(e).format("YYYY-MM-DD"))}},{title:"\u6587\u4ef6\u7c7b\u578b",dataIndex:"filetype"},{title:"\u64cd\u4f5c",render:function(e,a){return x.a.createElement(D["Fragment"],null,x.a.createElement("a",{onClick:function(){return t.previewRecordItem(e,a)}},"\u67e5\u770b"))}}],t.previewRecordItem=function(e){var a=t.props.dispatch;a({type:"main/getOssPdf",payload:{osspath:e.osspath},callback:function(e){if(400===e.code)notification.open({message:"\u6253\u5f00\u5931\u8d25",description:e.data});else{var a=e.data;window.open(a)}}}),t.setState({visible:!0})},t.previewItem=function(e){var a=t.props.dispatch,n=sessionStorage.getItem("certcode");a({type:"main/getUserByCertCodeAndName",payload:{certcode:n,nameC:e.inspman},callback:function(e){200===e.code?t.setState({manDetail:e.data}):notification.open({message:"\u67e5\u770b\u5931\u8d25",description:e.data})}}),a({type:"main/getManRecord",payload:{certCode:n,nameC:e.inspman},callback:function(e){200===e.code?(t.setState({record:e.data}),t.setState({peopleVisible:!0})):notification.open({message:"\u67e5\u770b\u5931\u8d25",description:e.data})}})},t.back=function(){window.close()},t.handleCancel=function(){t.setState({peopleVisible:!1})},t}return C()(a,e),h()(a,[{key:"componentDidMount",value:function(){var e=this,a=sessionStorage.getItem("reportno"),t=sessionStorage.getItem("certcode"),n=this.props.dispatch;n({type:"main/getAllMan",payload:{reportno:a,certcode:t},callback:function(a){200===a.code&&e.setState({man:a.data})}})}},{key:"render",value:function(){var e=this.props,a=e.loading,t=(e.dispatch,this.state),n=t.man,l=t.manDetail,r=t.peopleVisible,i=t.record;return x.a.createElement(J["a"],null,x.a.createElement(m["a"],{bordered:!1,size:"middle"},x.a.createElement(d["a"],{gutter:16},x.a.createElement(b["a"],{span:3},x.a.createElement(L,{level:3}," \u4eba\u5458\u8be6\u60c5")),x.a.createElement(b["a"],{span:19}),x.a.createElement(b["a"],{span:2},x.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},x.a.createElement(u["a"],{style:{paddingLeft:5},type:"close"}),"\u5173\u95ed"))),x.a.createElement("div",{className:j.a.tableList},x.a.createElement(s["a"],{size:"middle",loading:a,dataSource:n,columns:this.columns,rowKey:"inspman",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),x.a.createElement(o["a"],{title:"\u4eba\u5458",visible:r,onOk:this.handleCancel,onCancel:this.handleCancel,width:1e3},x.a.createElement(c["a"],{size:"large",title:"\u4e1a\u52a1\u4fe1\u606f",style:{marginBottom:32},bordered:!0},x.a.createElement(c["a"].Item,{label:"\u59d3\u540d"},l.nameC),x.a.createElement(c["a"].Item,{label:"\u7528\u6237\u540d"},l.userName),x.a.createElement(c["a"].Item,{label:"\u6027\u522b"},l.sex),x.a.createElement(c["a"].Item,{label:"\u51fa\u751f\u5e74\u6708"},R()(l.birthday).format("YYYY-MM-DD")),x.a.createElement(c["a"].Item,{label:"\u8eab\u4efd\u8bc1\u53f7"},l.idcard),x.a.createElement(c["a"].Item,{label:"\u7535\u8bdd"},l.applicanttel),x.a.createElement(c["a"].Item,{label:"\u6587\u5316\u7a0b\u5ea6"},l.education),x.a.createElement(c["a"].Item,{label:"\u6240\u5b66\u4e13\u4e1a"},l.major),x.a.createElement(c["a"].Item,{label:"\u804c\u52a1"},l.workduty),x.a.createElement(c["a"].Item,{label:"\u6240\u5728\u90e8\u95e8"},l.section),x.a.createElement(c["a"].Item,{label:"\u5165\u5c97\u65e5\u671f"},R()(l.enterdate).format("YYYY-MM-DD")),x.a.createElement(c["a"].Item,{label:"\u672c\u4e13\u4e1a\u5e74\u9650"},l.majoryears),x.a.createElement(c["a"].Item,{label:"\u672c\u5c97\u4f4d\u5e74\u9650"},l.workyears),x.a.createElement(c["a"].Item,{label:"\u662f\u5426\u6388\u6743\u7b7e\u5b57\u4eba"},l.reportno20),x.a.createElement(c["a"].Item,{label:"\u7cfb\u7edf\u89d2\u8272"},l.businesssort)),x.a.createElement(s["a"],{size:"middle",loading:a,dataSource:i,columns:this.columns1,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}})))}}]),a}(D["PureComponent"]),r=i))||r)||r);a["default"]=O}}]);